syntax = "proto3";

package evomorph;

import "protos/common.proto";
import "google/api/field_behavior.proto";

option go_package = "evomorph/protos";

// Parameters for starting a job consisting of >= 1 simulation(s).
message StartRequest {
  // Paths to MorpheusML models.
  repeated string models = 1 [(google.api.field_behavior) = REQUIRED];

  // Repeat each trial this many times.
  uint32 replicates = 2;

  // Output directory for simulation data.
  // Default: [TODO]
  string out = 3;
}

// Reply for starting a job.
message StartReply {
  // Status of response.
  StatusType status = 1 [(google.api.field_behavior) = REQUIRED];

  // Job identifier.
  string uuid = 2 [(google.api.field_behavior) = REQUIRED];
}

// Parameters for stopping a job.
message StopRequest {
  // Status of response.
  StatusType status = 1 [(google.api.field_behavior) = REQUIRED];

  // Job identifier.
  string uuid = 2 [(google.api.field_behavior) = REQUIRED];
}

service Engine {
  rpc Start(StartRequest) returns(StartReply);
  rpc Stop(StopRequest) returns(Status);
}
